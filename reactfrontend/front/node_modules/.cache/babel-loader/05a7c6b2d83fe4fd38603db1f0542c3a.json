{"ast":null,"code":"import _slicedToArray from \"/Users/haji/Desktop/LAMBDA/PROJECT/React-Front-End/Front-End/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/haji/Desktop/LAMBDA/PROJECT/React-Front-End/Front-End/front/src/components/Listing/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup'; // https://airbnb-2020.herokuapp.com/api/auth/register\n\nconst Login = ({\n  errors,\n  touched,\n  values,\n  handleSubmit,\n  status\n}) => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        users = _useState2[0],\n        setUsers = _useState2[1];\n\n  console.log(users);\n  useEffect(() => {\n    if (status) {\n      setUsers([...users, status]);\n    }\n  }, [status]);\n  console.log(status);\n  return React.createElement(\"div\", {\n    className: \"ui container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Become a Host\"), React.createElement(Form, {\n    className: \"ui form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(Field, {\n    className: \"field\",\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }), touched.username && errors.username && React.createElement(\"p\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, errors.username), React.createElement(Field, {\n    className: \"field\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), touched.password && errors.password && React.createElement(\"p\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, errors.password), React.createElement(\"button\", {\n    className: \"ui button\",\n    type: \"register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Submit\"), React.createElement(\"button\", {\n    className: \"ui button\",\n    type: \"register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Register\")), users.map(user => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, user.username), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, user.password))));\n};\n\nconst LoginCredentials = withFormik({\n  mapPropsToValues({\n    username,\n    password\n  }) {\n    return {\n      username: username || '',\n      password: password || ''\n    };\n  },\n\n  validationSchema: Yup.object().shape({\n    username: Yup.string().required('Please enter your username.'),\n    password: Yup.string().min(8, 'Your password must be at least 8 characters long.').required('Please enter a password.')\n  }),\n\n  handleSubmit(values, {\n    setStatus\n  }) {\n    if (values.users === \"React Dev\") {\n      setErrors({\n        users: \"Sorry email is already taken. Reset Password?\"\n      });\n    } else {\n      axios.post('https://airbnb-2020.herokuapp.com/api/auth/register', values).then(res => {\n        setStatus(res.data);\n        props.setToken(res.data.token);\n        resetForm();\n        setSubmitting(false);\n      }).then(props).catch(error => console.log(error.response));\n    }\n  }\n\n})(Login);\nexport default LoginCredentials;\nexport { Login };","map":{"version":3,"sources":["/Users/haji/Desktop/LAMBDA/PROJECT/React-Front-End/Front-End/front/src/components/Listing/Login.js"],"names":["React","useState","useEffect","axios","Form","Field","withFormik","Yup","Login","errors","touched","values","handleSubmit","status","users","setUsers","console","log","username","password","map","user","LoginCredentials","mapPropsToValues","validationSchema","object","shape","string","required","min","setStatus","setErrors","post","then","res","data","props","setToken","token","resetForm","setSubmitting","catch","error","response"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Form, Field, withFormik } from 'formik';\nimport * as Yup from 'yup';\n\n// https://airbnb-2020.herokuapp.com/api/auth/register\nconst Login = ({ errors, touched, values, handleSubmit, status }) => {\n        const [users, setUsers] = useState([]);\n        console.log(users);\n     useEffect(() => {\n        if (status) {\n            setUsers([...users, status]);\n}\n}, [status]);\nconsole.log(status);\n\n        return (\n            <div className=\"ui container\">\n            <h1>Become a Host</h1>\n                <Form className=\"ui form\">\n                <Field className=\"field\"\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Username\"/>\n                {touched.username && errors.username && (\n                <p className=\"error\">{errors.username}</p>\n                    )}\n                <Field className=\"field\"\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                    />\n                {touched.password && errors.password && (\n                <p className=\"error\">{errors.password}</p>\n                )}\n\n             <button className=\"ui button\" type=\"register\">Submit</button>\n             <button className=\"ui button\" type=\"register\">Register</button>\n            \n            </Form>\n            \n            {users.map(user => (\n            <div>\n            <h1>{user.username}</h1>\n            <h1>{user.password}</h1>\n            </div>\n ))}\n         \n</div>\n )};\nconst LoginCredentials = withFormik({\n    mapPropsToValues({ username, password }) {\n     return {\n            username: username || '',\n            password: password || ''\n        };\n    },\nvalidationSchema: Yup.object().shape({\n        username: Yup.string().required('Please enter your username.'),\n        password: Yup.string().min(8, 'Your password must be at least 8 characters long.')\n        .required('Please enter a password.'),     \n}),\n        handleSubmit(values, { setStatus }) {\n            if (values.users === \"React Dev\") {\n                setErrors({ users: \"Sorry email is already taken. Reset Password?\" });\n            } else {\n        axios\n        .post('https://airbnb-2020.herokuapp.com/api/auth/register', values)\n        .then(res => {\n        setStatus(res.data)\n        props.setToken(res.data.token);\n\n        resetForm();\n        setSubmitting(false);\n})\n.then(props)\n        .catch(error => console.log(error.response));\n}\n        }\n})(Login);\nexport default LoginCredentials;\n\nexport {Login}; "]},"metadata":{},"sourceType":"module"}